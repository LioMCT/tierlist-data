<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VoyageTiers | Global Leaderboard</title>
    <style>
        :root {
            --bg-color: #0f1113;
            --card-bg: #1a1d21;
            --text-primary: #ffffff;
            --text-secondary: #a0a0a0;
            --accent: #3498db;
            
            /* Gamemode Farben */
            --color-mace: #9b59b6;
            --color-smp: #2ecc71;
            --color-sword: #3498db;
            --color-spear: #e67e22;
            --color-dsmp: #34e7e4;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 40px 20px;
        }

        h1 { font-size: 2.5rem; margin-bottom: 10px; }
        p { color: var(--text-secondary); margin-bottom: 30px; }

        /* Navigation Tabs */
        .tabs {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 10px;
            margin-bottom: 30px;
        }

        .tab-btn {
            background: var(--card-bg);
            border: 1px solid #333;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .tab-btn:hover { background: #2c3136; border-color: var(--accent); }
        .tab-btn.active { background: var(--accent); border-color: var(--accent); }

        /* Tabelle Styling */
        .container {
            width: 100%;
            max-width: 1000px;
            background: var(--card-bg);
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th {
            background: #252a30;
            padding: 15px;
            text-align: left;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 1px;
            color: var(--text-secondary);
        }

        td {
            padding: 15px;
            border-bottom: 1px solid #2d3238;
        }

        tr:last-child td { border-bottom: none; }

        /* Rank Tags */
        .rank-badge {
            display: inline-flex;
            align-items: center;
            padding: 5px 10px;
            border-radius: 5px;
            font-size: 0.85rem;
            font-weight: bold;
            margin-right: 5px;
            margin-bottom: 5px;
        }

        /* Dynamische Klassen f√ºr Gamemodes */
        .badge-mace { background: rgba(155, 89, 182, 0.2); color: var(--color-mace); border: 1px solid var(--color-mace); }
        .badge-smp { background: rgba(46, 204, 113, 0.2); color: var(--color-smp); border: 1px solid var(--color-smp); }
        .badge-sword { background: rgba(52, 152, 219, 0.2); color: var(--color-sword); border: 1px solid var(--color-sword); }
        .badge-spear { background: rgba(230, 126, 34, 0.2); color: var(--color-spear); border: 1px solid var(--color-spear); }
        .badge-dsmp { background: rgba(52, 231, 228, 0.2); color: var(--color-dsmp); border: 1px solid var(--color-dsmp); }

        .region-tag {
            color: var(--text-secondary);
            font-family: monospace;
            background: #2c3136;
            padding: 2px 6px;
            border-radius: 4px;
        }
    </style>
</head>
<body>

    <h1>VoyageTiers Leaderboard</h1>
    <p>Official Global Minecraft PvP Tierlist</p>
    
    <div class="tabs">
        <button class="tab-btn active" onclick="updateTable('all', this)">üåê Overall</button>
        <button class="tab-btn" onclick="updateTable('Mace', this)">‚öîÔ∏è Mace</button>
        <button class="tab-btn" onclick="updateTable('SMP', this)">üå≤ SMP</button>
        <button class="tab-btn" onclick="updateTable('Sword', this)">üó°Ô∏è Sword</button>
        <button class="tab-btn" onclick="updateTable('Spear', this)">üî± Spear</button>
        <button class="tab-btn" onclick="updateTable('Diamond SMP', this)">üíé Diamond SMP</button>
    </div>

    <div class="container">
        <table>
            <thead>
                <tr id="headerRow">
                    </tr>
            </thead>
            <tbody id="leaderboardBody">
                </tbody>
        </table>
    </div>

    <script>
        // Konfiguration der Emojis und Klassen
        const config = {
            "Mace": { emoji: "‚öîÔ∏è", class: "badge-mace" },
            "SMP": { emoji: "üå≤", class: "badge-smp" },
            "Sword": { emoji: "üó°Ô∏è", class: "badge-sword" },
            "Spear": { emoji: "üî±", class: "badge-spear" },
            "Diamond SMP": { emoji: "üíé", class: "badge-dsmp" }
        };

        let cachedData = [];

        async function fetchData() {
            try {
                // Ersetze dies mit deinem tats√§chlichen GitHub-Raw-Link
                const response = await fetch('https://raw.githubusercontent.com/LioMCT/tierlist-data/main/tierlist.json');
                cachedData = await response.json();
                updateTable('all');
            } catch (e) {
                console.error("Fehler beim Laden:", e);
                document.getElementById('leaderboardBody').innerHTML = "<tr><td colspan='3'>Daten konnten nicht geladen werden.</td></tr>";
            }
        }

        function updateTable(mode, btnElement = null) {
            const body = document.getElementById('leaderboardBody');
            const header = document.getElementById('headerRow');
            body.innerHTML = "";

            // Active Tab UI wechseln
            if (btnElement) {
                document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
                btnElement.classList.add('active');
            }

            if (mode === 'all') {
                header.innerHTML = "<th>Player</th><th>Region</th><th>Ranks</th>";
                cachedData.forEach(p => {
                    let ranksHTML = "";
                    for (const [gm, tier] of Object.entries(p.ranks)) {
                        if (tier !== "Unranked") {
                            const gmConfig = config[gm] || { emoji: "", class: "" };
                            ranksHTML += `<span class="rank-badge ${gmConfig.class}">${gmConfig.emoji} ${tier}</span>`;
                        }
                    }
                    body.innerHTML += `
                        <tr>
                            <td><strong>${p.username}</strong></td>
                            <td><span class="region-tag">${p.region}</span></td>
                            <td>${ranksHTML || '<span style="color:#555">No Ranks</span>'}</td>
                        </tr>
                    `;
                });
            } else {
                header.innerHTML = `<th>Player</th><th>Region</th><th>${mode} Rank</th>`;
                // Filtern: Nur Spieler anzeigen, die in diesem Modus gerankt sind
                const filtered = cachedData.filter(p => p.ranks[mode] && p.ranks[mode] !== "Unranked");
                
                filtered.forEach(p => {
                    const gmConfig = config[mode];
                    body.innerHTML += `
                        <tr>
                            <td><strong>${p.username}</strong></td>
                            <td><span class="region-tag">${p.region}</span></td>
                            <td><span class="rank-badge ${gmConfig.class}">${gmConfig.emoji} ${p.ranks[mode]}</span></td>
                        </tr>
                    `;
                });
            }
        }

        fetchData();
    </script>
</body>
</html>
